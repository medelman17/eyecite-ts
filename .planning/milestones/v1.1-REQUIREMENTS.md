# Requirements Archive: v1.1 Extraction Accuracy

**Archived:** 2026-02-06
**Status:** SHIPPED

This is the archived requirements specification for v1.1.
For current requirements, see `.planning/REQUIREMENTS.md` (created for next milestone).

---

**Defined:** 2026-02-05
**Core Value:** Developers can extract, resolve, and annotate legal citations from text without Python infrastructure

## v1.1 Requirements

Requirements for extraction accuracy milestone. Each maps to roadmap phases.

### Full Citation Span

- [x] **SPAN-01**: Extract case name from text preceding citation core (backward search for "v." pattern) — Phase 6
- [x] **SPAN-02**: Calculate `fullSpan` field covering case name through closing parenthetical — Phase 6
- [x] **SPAN-03**: Provide structured `caseName` field with the extracted case name string — Phase 6
- [x] **SPAN-04**: Existing `span` field unchanged (citation core only) for backward compatibility — Phase 6
- [x] **SPAN-05**: Annotation supports full citation span mode (annotate from case name through parenthetical) — Phase 8

### Party Name Extraction

- [x] **PARTY-01**: Extract `plaintiff` and `defendant` fields from case name split on "v." / "vs." — Phase 7
- [x] **PARTY-02**: Handle procedural prefixes: "In re", "Ex parte", "Matter of" (plaintiff only, no defendant) — Phase 7
- [x] **PARTY-03**: Handle "United States" and government entity plaintiffs — Phase 7
- [x] **PARTY-04**: Party names available for supra resolution (fixes #21) — Phase 7
- [x] **PARTY-05**: Confidence scoring reflects extraction quality (lower for complex/uncertain names) — Phase 7

### Blank Page Numbers

- [x] **BLANK-01**: Recognize `___`, `---`, `____`, `----` as valid page placeholders in case citations — Phase 5
- [x] **BLANK-02**: Set `hasBlankPage: true` flag on citations with placeholder pages — Phase 5
- [x] **BLANK-03**: `page` field is `undefined` for blank-page citations — Phase 5
- [x] **BLANK-04**: Confidence lowered to 0.8 for blank-page citations — Phase 5

### Parallel Citation Linking

- [x] **PARA-01**: Detect comma-separated case citations sharing a parenthetical as parallel — Phase 8
- [x] **PARA-02**: Populate `parallelCitations` array on the first citation in the group — Phase 8
- [x] **PARA-03**: All citations returned individually in results (backward compatible) — Phase 8
- [x] **PARA-04**: No false positives — only link citations with physical proximity and shared context — Phase 8

### Complex Parentheticals

- [x] **PAREN-01**: Extract court from parentheticals containing month/day dates: `(2d Cir. Jan. 15, 2020)` — Phase 6
- [x] **PAREN-02**: Extract structured date with year, month, day fields — Phase 6
- [x] **PAREN-03**: Handle parentheticals with court only, date only, or both — Phase 6
- [x] **PAREN-04**: Handle multiple date formats: `Jan. 15, 2020`, `January 15, 2020`, `1/15/2020` — Phase 6

### Quality & Compatibility

- [x] **QUAL-01**: All new fields are optional — existing consumer code unaffected — Phase 5
- [x] **QUAL-02**: Bundle size remains under 50KB gzipped — Phase 8 (6.35 KB actual)
- [x] **QUAL-03**: Performance remains under 100ms for 10KB documents — Phase 8 (<49ms actual)
- [x] **QUAL-04**: All existing tests continue to pass — Phase 8 (528/528 passing)

## Traceability

| Requirement | Phase | Status |
|-------------|-------|--------|
| QUAL-01 | Phase 5 | Complete |
| BLANK-01 | Phase 5 | Complete |
| BLANK-02 | Phase 5 | Complete |
| BLANK-03 | Phase 5 | Complete |
| BLANK-04 | Phase 5 | Complete |
| SPAN-01 | Phase 6 | Complete |
| SPAN-02 | Phase 6 | Complete |
| SPAN-03 | Phase 6 | Complete |
| SPAN-04 | Phase 6 | Complete |
| PAREN-01 | Phase 6 | Complete |
| PAREN-02 | Phase 6 | Complete |
| PAREN-03 | Phase 6 | Complete |
| PAREN-04 | Phase 6 | Complete |
| PARTY-01 | Phase 7 | Complete |
| PARTY-02 | Phase 7 | Complete |
| PARTY-03 | Phase 7 | Complete |
| PARTY-04 | Phase 7 | Complete |
| PARTY-05 | Phase 7 | Complete |
| PARA-01 | Phase 8 | Complete |
| PARA-02 | Phase 8 | Complete |
| PARA-03 | Phase 8 | Complete |
| PARA-04 | Phase 8 | Complete |
| SPAN-05 | Phase 8 | Complete |
| QUAL-02 | Phase 8 | Complete |
| QUAL-03 | Phase 8 | Complete |
| QUAL-04 | Phase 8 | Complete |

**Coverage:**
- v1.1 requirements: 26 total
- Shipped: 26
- Adjusted: 0
- Dropped: 0

---

## Milestone Summary

**Shipped:** 26 of 26 v1.1 requirements
**Adjusted:** None — all requirements implemented as originally specified
**Dropped:** None

---
*Archived: 2026-02-06 as part of v1.1 milestone completion*
